<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_0jfxzzm" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.4.1">
  <bpmn:process id="Process_Obrade_PT" name="Obrada podnetog teksta" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1" camunda:initiator="assignedUser">
      <bpmn:outgoing>SequenceFlow_1gszexu</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1gszexu" sourceRef="StartEvent_1" targetRef="Task_0tkbesh" />
    <bpmn:userTask id="Task_0tkbesh" name="Odabir časopisa" camunda:candidateGroups="autori">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="f_casopisi" label="Izaberite časopis" type="enum" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1gszexu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1gyakyf</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0onmxbk" default="SequenceFlow_1r5bsau">
      <bpmn:incoming>SequenceFlow_1u3zh7l</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1tw4wq1</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1r5bsau</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1tw4wq1" sourceRef="ExclusiveGateway_0onmxbk" targetRef="Task_186tqnr">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${openAccess == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_186tqnr" name="Provera članarine" camunda:class="org.milan.naucnacentrala.service.camunda.nr.ProveraClanarine">
      <bpmn:incoming>SequenceFlow_1tw4wq1</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0s064o0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_08ld77w</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_12719xw" default="SequenceFlow_1sj9flu">
      <bpmn:incoming>SequenceFlow_08ld77w</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1sj9flu</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0ij7d96</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_08ld77w" sourceRef="Task_186tqnr" targetRef="ExclusiveGateway_12719xw" />
    <bpmn:sequenceFlow id="SequenceFlow_1sj9flu" sourceRef="ExclusiveGateway_12719xw" targetRef="Task_1k20m7f" />
    <bpmn:callActivity id="Task_1k20m7f" name="Uplata članarine" calledElement="pr_uplate_clanarine">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out variables="all" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1sj9flu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0s064o0</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0ahsqtc">
      <bpmn:incoming>SequenceFlow_0ij7d96</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1r5bsau</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_053ofro</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0ij7d96" sourceRef="ExclusiveGateway_12719xw" targetRef="ExclusiveGateway_0ahsqtc">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${clanarinaPostoji == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_053ofro" sourceRef="ExclusiveGateway_0ahsqtc" targetRef="Task_1gx89ly" />
    <bpmn:sequenceFlow id="SequenceFlow_1r5bsau" sourceRef="ExclusiveGateway_0onmxbk" targetRef="ExclusiveGateway_0ahsqtc" />
    <bpmn:userTask id="Task_1gx89ly" name="Unos informacija o NR" camunda:assignee="${assignedUser_ROLE_AUTOR}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslov" label="Naslov naučnog rada" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="apstrakt" label="Apstrakt" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="kljucniPojmovi" label="Ključni pojmovi" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="f_naucnaOblast" label="Naučna oblast" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="file_pdf" label="PDF dokument" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_053ofro</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ofyjsf</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Task_14259vd" name="Unos broja koautora" camunda:assignee="${assignedUser_ROLE_AUTOR}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="brojKoautora" label="Broj koautora" type="long">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="javascript">execution.setVariable("cntKoautor", 1);
execution.setVariable("untilKoautor", brojKoautora);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1pjsuwl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0swn0k2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_0swn0k2" sourceRef="Task_14259vd" targetRef="ExclusiveGateway_14mp4wa" />
    <bpmn:userTask id="Task_0ymfrqo" name="Unos koautora ${cntKoautor}" camunda:assignee="${assignedUser_ROLE_AUTOR}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="imeKA" label="Ime i prezime koautora ${cntKoautor}" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="emailKA" label="Email" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="gradKA" label="Grad" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="drzavaKA" label="Država" type="string">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="javascript">cntKoautor += 1;
execution.setVariable("cntKoautor", cntKoautor );</camunda:script>
        </camunda:executionListener>
        <camunda:taskListener class="org.milan.naucnacentrala.handler.SacuvajKoautora" event="complete" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0j0k24c</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1nxu3dw</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true">
        <bpmn:loopCardinality xsi:type="bpmn:tFormalExpression">${brojKoautora}</bpmn:loopCardinality>
      </bpmn:multiInstanceLoopCharacteristics>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_13mjlnw">
      <bpmn:incoming>SequenceFlow_19lk2yg</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0aoia6p</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1nxu3dw</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1b0fjbf</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1b0fjbf" sourceRef="ExclusiveGateway_13mjlnw" targetRef="Task_1egvzze" />
    <bpmn:serviceTask id="Task_1egvzze" name="Slanje email notifikacija" camunda:class="org.milan.naucnacentrala.service.camunda.nr.EmailAutoruIGlavnogUredniku">
      <bpmn:incoming>SequenceFlow_1b0fjbf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ku0d2r</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0ku0d2r" sourceRef="Task_1egvzze" targetRef="Task_1f4po6h" />
    <bpmn:userTask id="Task_1f4po6h" name="Pregled NR" camunda:assignee="${assignedUser_GL_UREDNIK}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="naslovView" label="Naslov" type="string" defaultValue="${naslov}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="apstraktView" label="Apstrakt" type="string" defaultValue="${apstrakt}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="kljucniPojmoviView" label="Kljucni pojmovi" type="string" defaultValue="${kljucniPojmovi}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="naucnaOblastView" label="Naučna oblast" type="string" defaultValue="${f_naucnaOblast}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="relevantan" label="Da li je naučni rad relevantan u odnosu na temu?" type="boolean" defaultValue="false">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0ku0d2r</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1igjuo3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1pukbzt" default="SequenceFlow_1m2tnz3">
      <bpmn:incoming>SequenceFlow_1igjuo3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1m2tnz3</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0mxym04</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_1igjuo3" sourceRef="Task_1f4po6h" targetRef="ExclusiveGateway_1pukbzt" />
    <bpmn:sequenceFlow id="SequenceFlow_1m2tnz3" sourceRef="ExclusiveGateway_1pukbzt" targetRef="Task_0j3hxzb" />
    <bpmn:serviceTask id="Task_0j3hxzb" name="Odbijanje naučnog rada i email autoru" camunda:class="org.milan.naucnacentrala.service.camunda.nr.OdbijanjeNRIEmailAutoru">
      <bpmn:incoming>SequenceFlow_1m2tnz3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0k0p2pd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1efaq78" default="SequenceFlow_0u9beff">
      <bpmn:incoming>SequenceFlow_1cm1g7r</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0u9beff</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_015pl3o</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0mxym04" sourceRef="ExclusiveGateway_1pukbzt" targetRef="Task_0wkrjnq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${relevantan}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Task_0wkrjnq" name="Pregled PDF i procena formatiranosti" camunda:assignee="${assignedUser_GL_UREDNIK}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="asfasgasfgasgf" label="Naziv naučnog rada" type="string" defaultValue="${naslov}">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="review_pdf" label="Preuzmite PDF" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="dobroFormatiran" label="Da li je naučni rad dobro formatiran?" type="boolean" defaultValue="false">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="komentarUrednika" label="Komentar autoru" type="string" />
          <camunda:formField id="vremenskiRok" label="Vremenski rok za ispravku (u minutima)" type="long" defaultValue="1" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0mxym04</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1cm1g7r</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1cm1g7r" sourceRef="Task_0wkrjnq" targetRef="ExclusiveGateway_1efaq78" />
    <bpmn:sequenceFlow id="SequenceFlow_0u9beff" sourceRef="ExclusiveGateway_1efaq78" targetRef="Task_13y6zpz" />
    <bpmn:serviceTask id="Task_13y6zpz" name="Slanje email notifikacije autoru" camunda:class="org.milan.naucnacentrala.service.camunda.nr.EmailAutoruLoseFormatiran">
      <bpmn:incoming>SequenceFlow_0u9beff</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0rpwxo7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0rpwxo7" sourceRef="Task_13y6zpz" targetRef="Task_10ntznn" />
    <bpmn:userTask id="Task_10ntznn" name="Ispravka sadržaja rada" camunda:assignee="${assignedUser_ROLE_AUTOR}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="komentarView" label="Komentar" type="string" defaultValue="${komentarUrednika}" />
          <camunda:formField id="file_pdf" label="Ispravljeni PDF:" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0rpwxo7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ta1d3j</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_1brlbh1" attachedToRef="Task_10ntznn">
      <bpmn:outgoing>SequenceFlow_11dtl8g</bpmn:outgoing>
      <bpmn:timerEventDefinition>
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT${vremenskiRok}M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0k0p2pd" sourceRef="Task_0j3hxzb" targetRef="EndEvent_07e02zn" />
    <bpmn:endEvent id="EndEvent_07e02zn">
      <bpmn:incoming>SequenceFlow_0k0p2pd</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Task_05j3zej" name="Email notifikacija da je rad odbijen i email" camunda:class="org.milan.naucnacentrala.service.camunda.nr.EmailAutoruOdbijenIsteklo">
      <bpmn:incoming>SequenceFlow_11dtl8g</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1olp6bt</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_11dtl8g" sourceRef="IntermediateThrowEvent_1brlbh1" targetRef="Task_05j3zej" />
    <bpmn:endEvent id="EndEvent_00pkx73">
      <bpmn:incoming>SequenceFlow_1olp6bt</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0ta1d3j" sourceRef="Task_10ntznn" targetRef="Task_0aodimr" />
    <bpmn:serviceTask id="Task_0aodimr" name="Čuvanje izmenjenog PDF-a" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0ta1d3j</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_19lk2yg</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_19lk2yg" sourceRef="Task_0aodimr" targetRef="ExclusiveGateway_13mjlnw" />
    <bpmn:sequenceFlow id="SequenceFlow_1olp6bt" sourceRef="Task_05j3zej" targetRef="EndEvent_00pkx73" />
    <bpmn:sequenceFlow id="SequenceFlow_015pl3o" sourceRef="ExclusiveGateway_1efaq78" targetRef="Task_15k6l8i">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${dobroFormatiran}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_15k6l8i" name="Odabir urednika naučne oblasti i email notifikacija" camunda:class="org.milan.naucnacentrala.service.camunda.nr.OdabirUrednikaNaucneOblasti">
      <bpmn:extensionElements>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="javascript">var zeroOrOne = Math.round(Math.random());
if (zeroOrOne == 1) {
 execution.setVariable("urednikNO", "ospite");
} else {
 execution.setVariable("urednikNO", "urednik");
}</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_015pl3o</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1uubp2k</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1uubp2k" sourceRef="Task_15k6l8i" targetRef="Task_05uxscc" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_0oc4m7w" default="SequenceFlow_0ap6t54">
      <bpmn:incoming>SequenceFlow_1ggye50</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1xcle1j</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0ap6t54</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Task_1l3xxqu" name="Odabir recenzenta" camunda:assignee="${assignedUser_UREDNIK_NO}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="recenzentiZaIzbor_multiselect" label="Recenzent" type="enum" />
        </camunda:formData>
        <camunda:taskListener class="org.milan.naucnacentrala.handler.UcitajRecenzenteZaIzbor" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_06pv91z</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0snxug3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1xcle1j" sourceRef="ExclusiveGateway_0oc4m7w" targetRef="Task_0156sz0">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!postoje2recenzenta}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="Task_0156sz0" name="Postavljanje glavnog urednika za recenzenta" camunda:expression="${true}">
      <bpmn:extensionElements>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="javascript">var urednik = execution.getVariable("urednik");
execution.setVariable("recenzent", urednik);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1xcle1j</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_028y5k9</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_028y5k9" sourceRef="Task_0156sz0" targetRef="Task_0caabdd" />
    <bpmn:serviceTask id="Task_0caabdd" name="Email notifikacija glavnom uredniku" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_028y5k9</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1cdz0y6</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1gyakyf" sourceRef="Task_0tkbesh" targetRef="Task_1gilr6l" />
    <bpmn:serviceTask id="Task_1gilr6l" name="Provera tipa časopisa" camunda:class="org.milan.naucnacentrala.service.camunda.nr.ProveraTipaCasopisa">
      <bpmn:incoming>SequenceFlow_1gyakyf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1u3zh7l</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1u3zh7l" sourceRef="Task_1gilr6l" targetRef="ExclusiveGateway_0onmxbk" />
    <bpmn:sequenceFlow id="SequenceFlow_0s064o0" sourceRef="Task_1k20m7f" targetRef="Task_186tqnr" />
    <bpmn:sequenceFlow id="SequenceFlow_1ofyjsf" sourceRef="Task_1gx89ly" targetRef="Task_0igexde" />
    <bpmn:sequenceFlow id="SequenceFlow_1pjsuwl" sourceRef="Task_0igexde" targetRef="Task_14259vd" />
    <bpmn:serviceTask id="Task_0igexde" name="Čuvanje naučnog rada" camunda:class="org.milan.naucnacentrala.service.camunda.nr.CuvanjeNR">
      <bpmn:incoming>SequenceFlow_1ofyjsf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pjsuwl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_14mp4wa" default="SequenceFlow_0j0k24c">
      <bpmn:incoming>SequenceFlow_0swn0k2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0j0k24c</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0aoia6p</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0j0k24c" sourceRef="ExclusiveGateway_14mp4wa" targetRef="Task_0ymfrqo" />
    <bpmn:sequenceFlow id="SequenceFlow_1nxu3dw" sourceRef="Task_0ymfrqo" targetRef="ExclusiveGateway_13mjlnw" />
    <bpmn:sequenceFlow id="SequenceFlow_0aoia6p" sourceRef="ExclusiveGateway_14mp4wa" targetRef="ExclusiveGateway_13mjlnw">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${brojKoautora &lt;= 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1ggye50" sourceRef="Task_05uxscc" targetRef="ExclusiveGateway_0oc4m7w" />
    <bpmn:serviceTask id="Task_05uxscc" name="Provera da li postoje 2 recenzenta" camunda:class="org.milan.naucnacentrala.service.camunda.nr.ProveraPostojeRecenzenti">
      <bpmn:incoming>SequenceFlow_1uubp2k</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ggye50</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Task_040lxnd" name="Unos vremenskog roka recenzije" camunda:assignee="${assignedUser_UREDNIK_NO}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="vremenskiRokRecenzija" label="Unesite vremenski rok za recenziju (u minutima):" type="long" defaultValue="10" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0ap6t54</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06pv91z</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Task_1ns3u9v" name="Čuvanje recenzenata i mejl notifikacije" camunda:class="org.milan.naucnacentrala.service.camunda.nr.CuvanjeRecenzenataZaRecenziju">
      <bpmn:incoming>SequenceFlow_0snxug3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_17d6x9d</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:subProcess id="SubProcess_1z0f7qu" name="Recenzija">
      <bpmn:incoming>SequenceFlow_17d6x9d</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13dacf0</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${recenzentiZaRecenziju}" camunda:elementVariable="rec" />
      <bpmn:startEvent id="StartEvent_0la9xuw">
        <bpmn:outgoing>SequenceFlow_1vdrxd5</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="SequenceFlow_1vdrxd5" sourceRef="StartEvent_0la9xuw" targetRef="Task_08pwvxz" />
      <bpmn:userTask id="Task_08pwvxz" name="Recenzija" camunda:assignee="${rec}">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="FormField_030i83v" label="Pusikaric" type="string" defaultValue="${naslov}">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="review_pdf" label="Pregledajte PDF" type="string">
              <camunda:validation>
                <camunda:constraint name="readonly" />
              </camunda:validation>
            </camunda:formField>
            <camunda:formField id="odluka" label="Odluka:" type="enum">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
              <camunda:value id="o1" name="Prihvatiti" />
              <camunda:value id="o2" name="Odbiti" />
              <camunda:value id="o3" name="Prihvatiti uz manje izmene" />
              <camunda:value id="o4" name="Uslovno prihvatiti uz veće izmene" />
            </camunda:formField>
            <camunda:formField id="komentarRec" label="Komentar" type="string">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_1vdrxd5</bpmn:incoming>
        <bpmn:incoming>SequenceFlow_0p3yhol</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0q2axk6</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:boundaryEvent id="IntermediateThrowEvent_0ap60yy" attachedToRef="Task_08pwvxz">
        <bpmn:outgoing>SequenceFlow_1kccf25</bpmn:outgoing>
        <bpmn:timerEventDefinition>
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT${vremenskiRokRecenzija}M</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:boundaryEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0q2axk6" sourceRef="Task_08pwvxz" targetRef="Task_0uu6qpz" />
      <bpmn:serviceTask id="Task_0uu6qpz" name="Čuvanje recenzija" camunda:class="org.milan.naucnacentrala.service.camunda.nr.CuvanjeRecenzija">
        <bpmn:incoming>SequenceFlow_0q2axk6</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1lkmsyx</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:endEvent id="EndEvent_0avd3qm">
        <bpmn:incoming>SequenceFlow_1lkmsyx</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SequenceFlow_1lkmsyx" sourceRef="Task_0uu6qpz" targetRef="EndEvent_0avd3qm" />
      <bpmn:sequenceFlow id="SequenceFlow_1kccf25" sourceRef="IntermediateThrowEvent_0ap60yy" targetRef="Task_1g5nu0b" />
      <bpmn:serviceTask id="Task_1g5nu0b" name="Email biranje novog recenzenta" camunda:class="org.milan.naucnacentrala.service.camunda.nr.EmailBiranjeNovogRecenzenta">
        <bpmn:incoming>SequenceFlow_1kccf25</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0xqsbza</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_0xqsbza" sourceRef="Task_1g5nu0b" targetRef="Task_1gqkfaa" />
      <bpmn:userTask id="Task_1gqkfaa" name="Odabir novog recenzenta" camunda:assignee="${assignedUser_UREDNIK_NO}">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="noviRecenzent" label="Izaberite novog recenzenta:" type="enum">
              <camunda:validation>
                <camunda:constraint name="required" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
          <camunda:taskListener class="org.milan.naucnacentrala.handler.UcitajPreostaleRecenzenteZaIzbor" event="create" />
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_0xqsbza</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_188keie</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:sequenceFlow id="SequenceFlow_188keie" sourceRef="Task_1gqkfaa" targetRef="Task_099snc4" />
      <bpmn:serviceTask id="Task_099snc4" name="Čuvanje novog recenzenta" camunda:class="org.milan.naucnacentrala.service.camunda.nr.CuvanjeNovogRecenzenta">
        <bpmn:incoming>SequenceFlow_188keie</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0p3yhol</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="SequenceFlow_0p3yhol" sourceRef="Task_099snc4" targetRef="Task_08pwvxz" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="SequenceFlow_17d6x9d" sourceRef="Task_1ns3u9v" targetRef="SubProcess_1z0f7qu" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_0c6axrk">
      <bpmn:incoming>SequenceFlow_13dacf0</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_0h5jrjf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ipo8s2</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_13dacf0" sourceRef="SubProcess_1z0f7qu" targetRef="ExclusiveGateway_0c6axrk" />
    <bpmn:sequenceFlow id="SequenceFlow_1cdz0y6" sourceRef="Task_0caabdd" targetRef="Task_005hjsv" />
    <bpmn:userTask id="Task_005hjsv" name="Recenzija glavnog urednika">
      <bpmn:incoming>SequenceFlow_1cdz0y6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0caq7x5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="EndEvent_1fxuf7o">
      <bpmn:incoming>SequenceFlow_1su8qhg</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0ap6t54" sourceRef="ExclusiveGateway_0oc4m7w" targetRef="Task_040lxnd" />
    <bpmn:sequenceFlow id="SequenceFlow_06pv91z" sourceRef="Task_040lxnd" targetRef="Task_1l3xxqu" />
    <bpmn:sequenceFlow id="SequenceFlow_0snxug3" sourceRef="Task_1l3xxqu" targetRef="Task_1ns3u9v" />
    <bpmn:sequenceFlow id="SequenceFlow_0ipo8s2" sourceRef="ExclusiveGateway_0c6axrk" targetRef="Task_15k4efj" />
    <bpmn:sequenceFlow id="SequenceFlow_0caq7x5" sourceRef="Task_005hjsv" targetRef="Task_1biq4ux" />
    <bpmn:serviceTask id="Task_1biq4ux" name="Čuvanje recenzija" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0caq7x5</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0h5jrjf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0h5jrjf" sourceRef="Task_1biq4ux" targetRef="ExclusiveGateway_0c6axrk" />
    <bpmn:userTask id="Task_15k4efj" name="Analiza recenzija" camunda:assignee="${assignedUser_UREDNIK_NO}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="fp_odluke" label="Odluke recenzenata:" type="enum" />
          <camunda:formField id="fp_komentari" label="Komentari recenzenata:" type="enum" />
          <camunda:formField id="konacnaOdluka" label="Konacna odluka:" type="enum">
            <camunda:validation>
              <camunda:constraint name="required" />
            </camunda:validation>
            <camunda:value id="prihvatiti" name="Prihvatiti rad" />
            <camunda:value id="odbiti" name="Odbiti rad" />
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener class="org.milan.naucnacentrala.handler.AnalizaRecenzija" event="create" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0ipo8s2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0fgeevb</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Task_1n5kjuu" name="Indexiranje" camunda:class="org.milan.naucnacentrala.service.camunda.nr.Kraj">
      <bpmn:incoming>SequenceFlow_1fkoqa7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0g0p64x</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0ar90fl" default="SequenceFlow_0c4jx4b">
      <bpmn:incoming>SequenceFlow_0fgeevb</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1fkoqa7</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0c4jx4b</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0fgeevb" sourceRef="Task_15k4efj" targetRef="ExclusiveGateway_0ar90fl" />
    <bpmn:sequenceFlow id="SequenceFlow_1fkoqa7" sourceRef="ExclusiveGateway_0ar90fl" targetRef="Task_1n5kjuu">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${konacnaOdluka == "prihvatiti"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0c4jx4b" sourceRef="ExclusiveGateway_0ar90fl" targetRef="Task_1i90jfp" />
    <bpmn:serviceTask id="Task_1i90jfp" name="Odbijanje" camunda:class="org.milan.naucnacentrala.service.camunda.nr.Kraj">
      <bpmn:incoming>SequenceFlow_0c4jx4b</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_01584m9</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_17awfbz">
      <bpmn:incoming>SequenceFlow_0g0p64x</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_01584m9</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1su8qhg</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0g0p64x" sourceRef="Task_1n5kjuu" targetRef="ExclusiveGateway_17awfbz" />
    <bpmn:sequenceFlow id="SequenceFlow_01584m9" sourceRef="Task_1i90jfp" targetRef="ExclusiveGateway_17awfbz" />
    <bpmn:sequenceFlow id="SequenceFlow_1su8qhg" sourceRef="ExclusiveGateway_17awfbz" targetRef="EndEvent_1fxuf7o" />
    <bpmn:textAnnotation id="TextAnnotation_0txs43k">
      <bpmn:text>NR - Naučni rad</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1diabme" sourceRef="Task_1gx89ly" targetRef="TextAnnotation_0txs43k" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_Obrade_PT">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="122" y="229" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1gszexu_di" bpmnElement="SequenceFlow_1gszexu">
        <di:waypoint x="158" y="247" />
        <di:waypoint x="210" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_00mo8s9_di" bpmnElement="Task_0tkbesh">
        <dc:Bounds x="210" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0onmxbk_di" bpmnElement="ExclusiveGateway_0onmxbk" isMarkerVisible="true">
        <dc:Bounds x="505" y="222" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1tw4wq1_di" bpmnElement="SequenceFlow_1tw4wq1">
        <di:waypoint x="555" y="247" />
        <di:waypoint x="620" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1txb14c_di" bpmnElement="Task_186tqnr">
        <dc:Bounds x="620" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_12719xw_di" bpmnElement="ExclusiveGateway_12719xw" isMarkerVisible="true">
        <dc:Bounds x="775" y="222" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_08ld77w_di" bpmnElement="SequenceFlow_08ld77w">
        <di:waypoint x="720" y="247" />
        <di:waypoint x="775" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1sj9flu_di" bpmnElement="SequenceFlow_1sj9flu">
        <di:waypoint x="800" y="272" />
        <di:waypoint x="800" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="CallActivity_02zhi6m_di" bpmnElement="Task_1k20m7f">
        <dc:Bounds x="750" y="360" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0ahsqtc_di" bpmnElement="ExclusiveGateway_0ahsqtc" isMarkerVisible="true">
        <dc:Bounds x="895" y="222" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ij7d96_di" bpmnElement="SequenceFlow_0ij7d96">
        <di:waypoint x="825" y="247" />
        <di:waypoint x="895" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_053ofro_di" bpmnElement="SequenceFlow_053ofro">
        <di:waypoint x="945" y="247" />
        <di:waypoint x="980" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1r5bsau_di" bpmnElement="SequenceFlow_1r5bsau">
        <di:waypoint x="530" y="222" />
        <di:waypoint x="530" y="100" />
        <di:waypoint x="920" y="100" />
        <di:waypoint x="920" y="222" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0damzwu_di" bpmnElement="Task_1gx89ly">
        <dc:Bounds x="980" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_10fg6kp_di" bpmnElement="Task_14259vd">
        <dc:Bounds x="1250" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0swn0k2_di" bpmnElement="SequenceFlow_0swn0k2">
        <di:waypoint x="1350" y="247" />
        <di:waypoint x="1395" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1x0urzy_di" bpmnElement="Task_0ymfrqo">
        <dc:Bounds x="1530" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_13mjlnw_di" bpmnElement="ExclusiveGateway_13mjlnw" isMarkerVisible="true">
        <dc:Bounds x="1745" y="222" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1b0fjbf_di" bpmnElement="SequenceFlow_1b0fjbf">
        <di:waypoint x="1795" y="247" />
        <di:waypoint x="1980" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_02hnnzp_di" bpmnElement="Task_1egvzze">
        <dc:Bounds x="1980" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ku0d2r_di" bpmnElement="SequenceFlow_0ku0d2r">
        <di:waypoint x="2080" y="247" />
        <di:waypoint x="2340" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1oosxif_di" bpmnElement="Task_1f4po6h">
        <dc:Bounds x="2340" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0txs43k_di" bpmnElement="TextAnnotation_0txs43k">
        <dc:Bounds x="1040" y="120" width="100" height="40" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1diabme_di" bpmnElement="Association_1diabme">
        <di:waypoint x="1052" y="207" />
        <di:waypoint x="1079" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1pukbzt_di" bpmnElement="ExclusiveGateway_1pukbzt" isMarkerVisible="true">
        <dc:Bounds x="2645" y="222" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1igjuo3_di" bpmnElement="SequenceFlow_1igjuo3">
        <di:waypoint x="2440" y="247" />
        <di:waypoint x="2645" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1m2tnz3_di" bpmnElement="SequenceFlow_1m2tnz3">
        <di:waypoint x="2670" y="222" />
        <di:waypoint x="2670" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0vxubdf_di" bpmnElement="Task_0j3hxzb">
        <dc:Bounds x="2620" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1efaq78_di" bpmnElement="ExclusiveGateway_1efaq78" isMarkerVisible="true">
        <dc:Bounds x="3075" y="222" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0mxym04_di" bpmnElement="SequenceFlow_0mxym04">
        <di:waypoint x="2695" y="247" />
        <di:waypoint x="2830" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1a73b2q_di" bpmnElement="Task_0wkrjnq">
        <dc:Bounds x="2830" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1cm1g7r_di" bpmnElement="SequenceFlow_1cm1g7r">
        <di:waypoint x="2930" y="247" />
        <di:waypoint x="3075" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0u9beff_di" bpmnElement="SequenceFlow_0u9beff">
        <di:waypoint x="3100" y="272" />
        <di:waypoint x="3100" y="440" />
        <di:waypoint x="2890" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1bf1sk4_di" bpmnElement="Task_13y6zpz">
        <dc:Bounds x="2790" y="400" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0rpwxo7_di" bpmnElement="SequenceFlow_0rpwxo7">
        <di:waypoint x="2790" y="440" />
        <di:waypoint x="2650" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1gd0ax5_di" bpmnElement="Task_10ntznn">
        <dc:Bounds x="2550" y="400" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1mdm3k5_di" bpmnElement="IntermediateThrowEvent_1brlbh1">
        <dc:Bounds x="2632" y="462" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0k0p2pd_di" bpmnElement="SequenceFlow_0k0p2pd">
        <di:waypoint x="2720" y="120" />
        <di:waypoint x="2852" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_07e02zn_di" bpmnElement="EndEvent_07e02zn">
        <dc:Bounds x="2852" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1xxgvaa_di" bpmnElement="Task_05j3zej">
        <dc:Bounds x="2600" y="580" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_11dtl8g_di" bpmnElement="SequenceFlow_11dtl8g">
        <di:waypoint x="2650" y="498" />
        <di:waypoint x="2650" y="580" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_00pkx73_di" bpmnElement="EndEvent_00pkx73">
        <dc:Bounds x="2632" y="722" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ta1d3j_di" bpmnElement="SequenceFlow_0ta1d3j">
        <di:waypoint x="2550" y="440" />
        <di:waypoint x="2180" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1vlvs3t_di" bpmnElement="Task_0aodimr">
        <dc:Bounds x="2080" y="400" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_19lk2yg_di" bpmnElement="SequenceFlow_19lk2yg">
        <di:waypoint x="2080" y="440" />
        <di:waypoint x="1770" y="440" />
        <di:waypoint x="1770" y="272" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1olp6bt_di" bpmnElement="SequenceFlow_1olp6bt">
        <di:waypoint x="2650" y="660" />
        <di:waypoint x="2650" y="722" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_015pl3o_di" bpmnElement="SequenceFlow_015pl3o">
        <di:waypoint x="3125" y="247" />
        <di:waypoint x="3260" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0wglmt8_di" bpmnElement="Task_15k6l8i">
        <dc:Bounds x="3260" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1uubp2k_di" bpmnElement="SequenceFlow_1uubp2k">
        <di:waypoint x="3360" y="247" />
        <di:waypoint x="3530" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0oc4m7w_di" bpmnElement="ExclusiveGateway_0oc4m7w" isMarkerVisible="true">
        <dc:Bounds x="3775" y="222" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_09h7759_di" bpmnElement="Task_1l3xxqu">
        <dc:Bounds x="4090" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1xcle1j_di" bpmnElement="SequenceFlow_1xcle1j">
        <di:waypoint x="3800" y="272" />
        <di:waypoint x="3800" y="740" />
        <di:waypoint x="3950" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_144u5g9_di" bpmnElement="Task_0156sz0">
        <dc:Bounds x="3950" y="700" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_028y5k9_di" bpmnElement="SequenceFlow_028y5k9">
        <di:waypoint x="4050" y="740" />
        <di:waypoint x="4130" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0qj9tog_di" bpmnElement="Task_0caabdd">
        <dc:Bounds x="4130" y="700" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1gyakyf_di" bpmnElement="SequenceFlow_1gyakyf">
        <di:waypoint x="310" y="247" />
        <di:waypoint x="350" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_00zf3xa_di" bpmnElement="Task_1gilr6l">
        <dc:Bounds x="350" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1u3zh7l_di" bpmnElement="SequenceFlow_1u3zh7l">
        <di:waypoint x="450" y="247" />
        <di:waypoint x="505" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0s064o0_di" bpmnElement="SequenceFlow_0s064o0">
        <di:waypoint x="750" y="400" />
        <di:waypoint x="670" y="400" />
        <di:waypoint x="670" y="287" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ofyjsf_di" bpmnElement="SequenceFlow_1ofyjsf">
        <di:waypoint x="1080" y="247" />
        <di:waypoint x="1120" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1pjsuwl_di" bpmnElement="SequenceFlow_1pjsuwl">
        <di:waypoint x="1220" y="247" />
        <di:waypoint x="1250" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1aj78we_di" bpmnElement="Task_0igexde">
        <dc:Bounds x="1120" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_14mp4wa_di" bpmnElement="ExclusiveGateway_14mp4wa" isMarkerVisible="true">
        <dc:Bounds x="1395" y="222" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0j0k24c_di" bpmnElement="SequenceFlow_0j0k24c">
        <di:waypoint x="1445" y="247" />
        <di:waypoint x="1530" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1nxu3dw_di" bpmnElement="SequenceFlow_1nxu3dw">
        <di:waypoint x="1630" y="247" />
        <di:waypoint x="1745" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0aoia6p_di" bpmnElement="SequenceFlow_0aoia6p">
        <di:waypoint x="1420" y="222" />
        <di:waypoint x="1420" y="150" />
        <di:waypoint x="1770" y="150" />
        <di:waypoint x="1770" y="222" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ggye50_di" bpmnElement="SequenceFlow_1ggye50">
        <di:waypoint x="3630" y="247" />
        <di:waypoint x="3775" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1oc1ptn_di" bpmnElement="Task_05uxscc">
        <dc:Bounds x="3530" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_04cti51_di" bpmnElement="Task_040lxnd">
        <dc:Bounds x="3910" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0mbs708_di" bpmnElement="Task_1ns3u9v">
        <dc:Bounds x="4250" y="207" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SubProcess_1z0f7qu_di" bpmnElement="SubProcess_1z0f7qu" isExpanded="true">
        <dc:Bounds x="4440" y="110" width="750" height="413" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0la9xuw_di" bpmnElement="StartEvent_0la9xuw">
        <dc:Bounds x="4480" y="212" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_17d6x9d_di" bpmnElement="SequenceFlow_17d6x9d">
        <di:waypoint x="4350" y="247" />
        <di:waypoint x="4440" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1vdrxd5_di" bpmnElement="SequenceFlow_1vdrxd5">
        <di:waypoint x="4516" y="230" />
        <di:waypoint x="4570" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0y8zjfu_di" bpmnElement="Task_08pwvxz">
        <dc:Bounds x="4570" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1q6e6gz_di" bpmnElement="IntermediateThrowEvent_0ap60yy">
        <dc:Bounds x="4652" y="252" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0q2axk6_di" bpmnElement="SequenceFlow_0q2axk6">
        <di:waypoint x="4620" y="270" />
        <di:waypoint x="4620" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0q8kh8t_di" bpmnElement="Task_0uu6qpz">
        <dc:Bounds x="4570" y="340" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0avd3qm_di" bpmnElement="EndEvent_0avd3qm">
        <dc:Bounds x="4602" y="452" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0c6axrk_di" bpmnElement="ExclusiveGateway_0c6axrk" isMarkerVisible="true">
        <dc:Bounds x="4790" y="715" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_13dacf0_di" bpmnElement="SequenceFlow_13dacf0">
        <di:waypoint x="4815" y="523" />
        <di:waypoint x="4815" y="715" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1cdz0y6_di" bpmnElement="SequenceFlow_1cdz0y6">
        <di:waypoint x="4230" y="740" />
        <di:waypoint x="4320" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1j2hfs4_di" bpmnElement="Task_005hjsv">
        <dc:Bounds x="4320" y="700" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1fxuf7o_di" bpmnElement="EndEvent_1fxuf7o">
        <dc:Bounds x="5572" y="782" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ap6t54_di" bpmnElement="SequenceFlow_0ap6t54">
        <di:waypoint x="3825" y="247" />
        <di:waypoint x="3910" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06pv91z_di" bpmnElement="SequenceFlow_06pv91z">
        <di:waypoint x="4010" y="247" />
        <di:waypoint x="4090" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0snxug3_di" bpmnElement="SequenceFlow_0snxug3">
        <di:waypoint x="4190" y="247" />
        <di:waypoint x="4250" y="247" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1lkmsyx_di" bpmnElement="SequenceFlow_1lkmsyx">
        <di:waypoint x="4620" y="420" />
        <di:waypoint x="4620" y="452" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1kccf25_di" bpmnElement="SequenceFlow_1kccf25">
        <di:waypoint x="4688" y="270" />
        <di:waypoint x="4714" y="270" />
        <di:waypoint x="4714" y="230" />
        <di:waypoint x="4750" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0ziw466_di" bpmnElement="Task_1g5nu0b">
        <dc:Bounds x="4750" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0xqsbza_di" bpmnElement="SequenceFlow_0xqsbza">
        <di:waypoint x="4850" y="230" />
        <di:waypoint x="4900" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_01mvyek_di" bpmnElement="Task_1gqkfaa">
        <dc:Bounds x="4900" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_188keie_di" bpmnElement="SequenceFlow_188keie">
        <di:waypoint x="5000" y="230" />
        <di:waypoint x="5050" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1l91nwx_di" bpmnElement="Task_099snc4">
        <dc:Bounds x="5050" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0p3yhol_di" bpmnElement="SequenceFlow_0p3yhol">
        <di:waypoint x="5100" y="190" />
        <di:waypoint x="5100" y="140" />
        <di:waypoint x="4620" y="140" />
        <di:waypoint x="4620" y="190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ipo8s2_di" bpmnElement="SequenceFlow_0ipo8s2">
        <di:waypoint x="4840" y="740" />
        <di:waypoint x="4920" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0caq7x5_di" bpmnElement="SequenceFlow_0caq7x5">
        <di:waypoint x="4420" y="740" />
        <di:waypoint x="4510" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1djtaig_di" bpmnElement="Task_1biq4ux">
        <dc:Bounds x="4510" y="700" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0h5jrjf_di" bpmnElement="SequenceFlow_0h5jrjf">
        <di:waypoint x="4610" y="740" />
        <di:waypoint x="4790" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0j8o1ss_di" bpmnElement="Task_15k4efj">
        <dc:Bounds x="4920" y="700" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1wop7dl_di" bpmnElement="Task_1n5kjuu">
        <dc:Bounds x="5240" y="700" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0ar90fl_di" bpmnElement="ExclusiveGateway_0ar90fl" isMarkerVisible="true">
        <dc:Bounds x="5105" y="715" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0fgeevb_di" bpmnElement="SequenceFlow_0fgeevb">
        <di:waypoint x="5020" y="740" />
        <di:waypoint x="5105" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1fkoqa7_di" bpmnElement="SequenceFlow_1fkoqa7">
        <di:waypoint x="5155" y="740" />
        <di:waypoint x="5240" y="740" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0c4jx4b_di" bpmnElement="SequenceFlow_0c4jx4b">
        <di:waypoint x="5130" y="765" />
        <di:waypoint x="5130" y="850" />
        <di:waypoint x="5240" y="850" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_016edg9_di" bpmnElement="Task_1i90jfp">
        <dc:Bounds x="5240" y="810" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_17awfbz_di" bpmnElement="ExclusiveGateway_17awfbz" isMarkerVisible="true">
        <dc:Bounds x="5425" y="775" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0g0p64x_di" bpmnElement="SequenceFlow_0g0p64x">
        <di:waypoint x="5340" y="740" />
        <di:waypoint x="5450" y="740" />
        <di:waypoint x="5450" y="775" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_01584m9_di" bpmnElement="SequenceFlow_01584m9">
        <di:waypoint x="5340" y="850" />
        <di:waypoint x="5450" y="850" />
        <di:waypoint x="5450" y="825" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1su8qhg_di" bpmnElement="SequenceFlow_1su8qhg">
        <di:waypoint x="5475" y="800" />
        <di:waypoint x="5572" y="800" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
